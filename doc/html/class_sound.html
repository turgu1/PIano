<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>PIano: Sound Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIano
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A piano sampler application for the Raspberry PI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_sound.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_sound-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Sound Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sound_8h_source.html">sound.h</a>&gt;</code></p>

<p>Inherits <a class="el" href="class_new_handler_support.html">NewHandlerSupport&lt; Sound &gt;</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a539c205cdf06fe2c621fd77c37bcfac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a539c205cdf06fe2c621fd77c37bcfac9">Sound</a> ()</td></tr>
<tr class="separator:a539c205cdf06fe2c621fd77c37bcfac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0907389078bf740be2a5763366ad3376"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a0907389078bf740be2a5763366ad3376">~Sound</a> ()</td></tr>
<tr class="separator:a0907389078bf740be2a5763366ad3376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201cd18d171b458f62d5a1c062540735"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a201cd18d171b458f62d5a1c062540735">showDevices</a> (int devCount)</td></tr>
<tr class="memdesc:a201cd18d171b458f62d5a1c062540735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show available devices to user.  <a href="#a201cd18d171b458f62d5a1c062540735">More...</a><br /></td></tr>
<tr class="separator:a201cd18d171b458f62d5a1c062540735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9af9165a330cd30b4f4ee490c3065c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#abd9af9165a330cd30b4f4ee490c3065c">deviceSelect</a> ()</td></tr>
<tr class="memdesc:abd9af9165a330cd30b4f4ee490c3065c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interactive device selection.  <a href="#abd9af9165a330cd30b4f4ee490c3065c">More...</a><br /></td></tr>
<tr class="separator:abd9af9165a330cd30b4f4ee490c3065c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06764f30b88d0f4a9a699b35976c75a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#ad06764f30b88d0f4a9a699b35976c75a">holding</a> ()</td></tr>
<tr class="separator:ad06764f30b88d0f4a9a699b35976c75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4a95e57935c5bf5c976ebf02a2c4ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a6c4a95e57935c5bf5c976ebf02a2c4ea">wait</a> ()</td></tr>
<tr class="memdesc:a6c4a95e57935c5bf5c976ebf02a2c4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put sound on hold waiting for a new sample library to be loaded from disk.  <a href="#a6c4a95e57935c5bf5c976ebf02a2c4ea">More...</a><br /></td></tr>
<tr class="separator:a6c4a95e57935c5bf5c976ebf02a2c4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d3adf4d134a1f070c587631aeb47a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#ad3d3adf4d134a1f070c587631aeb47a6">conti</a> ()</td></tr>
<tr class="memdesc:ad3d3adf4d134a1f070c587631aeb47a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart sound, the new library has been loaded.  <a href="#ad3d3adf4d134a1f070c587631aeb47a6">More...</a><br /></td></tr>
<tr class="separator:ad3d3adf4d134a1f070c587631aeb47a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f9998e97dfd97ef1f246b567c77979"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#ad7f9998e97dfd97ef1f246b567c77979">startReplay</a> ()</td></tr>
<tr class="separator:ad7f9998e97dfd97ef1f246b567c77979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d546c95e0e8d14bd540a521ab7a2b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#af5d546c95e0e8d14bd540a521ab7a2b1">toggleReplay</a> ()</td></tr>
<tr class="memdesc:af5d546c95e0e8d14bd540a521ab7a2b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn on and off the replay mechanism.  <a href="#af5d546c95e0e8d14bd540a521ab7a2b1">More...</a><br /></td></tr>
<tr class="separator:af5d546c95e0e8d14bd540a521ab7a2b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399b27434af679d788fa57beb16df12c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a399b27434af679d788fa57beb16df12c">isReplaying</a> ()</td></tr>
<tr class="memdesc:a399b27434af679d788fa57beb16df12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the class is currently in a replay mode, false otherwise.  <a href="#a399b27434af679d788fa57beb16df12c">More...</a><br /></td></tr>
<tr class="separator:a399b27434af679d788fa57beb16df12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff12c32c076d473d22909488df8c938"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a4ff12c32c076d473d22909488df8c938">push</a> (<a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> b)</td></tr>
<tr class="separator:a4ff12c32c076d473d22909488df8c938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f224d1b1e3efb3318169e4bf85a5c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a5f224d1b1e3efb3318169e4bf85a5c0c">get</a> (<a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> b)</td></tr>
<tr class="memdesc:a5f224d1b1e3efb3318169e4bf85a5c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieval of a chunk of PCM data from the replay buffer to send to the PCM device.  <a href="#a5f224d1b1e3efb3318169e4bf85a5c0c">More...</a><br /></td></tr>
<tr class="separator:a5f224d1b1e3efb3318169e4bf85a5c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:abeb081295057a4c22017d87d9d166de9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#abeb081295057a4c22017d87d9d166de9">outOfMemory</a> ()</td></tr>
<tr class="memdesc:abeb081295057a4c22017d87d9d166de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">New operation handler when out of memory occurs.  <a href="#abeb081295057a4c22017d87d9d166de9">More...</a><br /></td></tr>
<tr class="separator:abeb081295057a4c22017d87d9d166de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3db913c8f7aca959592f1f5d281d96fc"><td class="memItemLeft" align="right" valign="top">PaStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a3db913c8f7aca959592f1f5d281d96fc">stream</a></td></tr>
<tr class="memdesc:a3db913c8f7aca959592f1f5d281d96fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The connection to the PortAudio stream.  <a href="#a3db913c8f7aca959592f1f5d281d96fc">More...</a><br /></td></tr>
<tr class="separator:a3db913c8f7aca959592f1f5d281d96fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5bc55d4c2d3240f784f141d1b0d7fba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#aa5bc55d4c2d3240f784f141d1b0d7fba">hold</a></td></tr>
<tr class="memdesc:aa5bc55d4c2d3240f784f141d1b0d7fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, stop asking form samples as a new library is being loaded.  <a href="#aa5bc55d4c2d3240f784f141d1b0d7fba">More...</a><br /></td></tr>
<tr class="separator:aa5bc55d4c2d3240f784f141d1b0d7fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af292d6a6ab86c80b8ff6426f37f0bf3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#af292d6a6ab86c80b8ff6426f37f0bf3e">replay</a></td></tr>
<tr class="memdesc:af292d6a6ab86c80b8ff6426f37f0bf3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true is replaying is required by the user.  <a href="#af292d6a6ab86c80b8ff6426f37f0bf3e">More...</a><br /></td></tr>
<tr class="separator:af292d6a6ab86c80b8ff6426f37f0bf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4612c18959f6777308d1b2ab9d9c1dc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a4612c18959f6777308d1b2ab9d9c1dc5">rbuff</a></td></tr>
<tr class="memdesc:a4612c18959f6777308d1b2ab9d9c1dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">FIFO Buffer on the last ~5 seconds PCM data.  <a href="#a4612c18959f6777308d1b2ab9d9c1dc5">More...</a><br /></td></tr>
<tr class="separator:a4612c18959f6777308d1b2ab9d9c1dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5638f21547400a6acd972635942f3c32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a5638f21547400a6acd972635942f3c32">rhead</a></td></tr>
<tr class="memdesc:a5638f21547400a6acd972635942f3c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Head Pointer on the replay buffer.  <a href="#a5638f21547400a6acd972635942f3c32">More...</a><br /></td></tr>
<tr class="separator:a5638f21547400a6acd972635942f3c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1847300d024cf5f0539cef13e038be0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a1847300d024cf5f0539cef13e038be0d">rtail</a></td></tr>
<tr class="memdesc:a1847300d024cf5f0539cef13e038be0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tail Pointer on the replay buffer.  <a href="#a1847300d024cf5f0539cef13e038be0d">More...</a><br /></td></tr>
<tr class="separator:a1847300d024cf5f0539cef13e038be0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa28367798b227f00aaf2f34d07f574"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a9fa28367798b227f00aaf2f34d07f574">rend</a></td></tr>
<tr class="memdesc:a9fa28367798b227f00aaf2f34d07f574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address that follows the end of the rbuff space.  <a href="#a9fa28367798b227f00aaf2f34d07f574">More...</a><br /></td></tr>
<tr class="separator:a9fa28367798b227f00aaf2f34d07f574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc22df5f264663bf978fe7d72cd97a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#a4fc22df5f264663bf978fe7d72cd97a1">rpos</a></td></tr>
<tr class="memdesc:a4fc22df5f264663bf978fe7d72cd97a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current replay position.  <a href="#a4fc22df5f264663bf978fe7d72cd97a1">More...</a><br /></td></tr>
<tr class="separator:a4fc22df5f264663bf978fe7d72cd97a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aa053cc0f31cc475ef20d9bfd9f3d8803"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sound.html#aa053cc0f31cc475ef20d9bfd9f3d8803">soundCallback</a> (const void *inputBuffer, void *outputBuffer, unsigned long framesPerBuffer, const PaStreamCallbackTimeInfo *timeInfo, PaStreamCallbackFlags statusFlags, void *userData)</td></tr>
<tr class="separator:aa053cc0f31cc475ef20d9bfd9f3d8803"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_class_new_handler_support"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_new_handler_support')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_new_handler_support.html">NewHandlerSupport&lt; Sound &gt;</a></td></tr>
<tr class="memitem:a996da1246e7cc28ec20ef0ad2ff08a23 inherit pub_static_methods_class_new_handler_support"><td class="memItemLeft" align="right" valign="top">static std::new_handler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_new_handler_support.html#a996da1246e7cc28ec20ef0ad2ff08a23">setNewHandler</a> (std::new_handler p)</td></tr>
<tr class="memdesc:a996da1246e7cc28ec20ef0ad2ff08a23 inherit pub_static_methods_class_new_handler_support"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a new_handler to get control on exceptions when the new operator is actived.  <a href="#a996da1246e7cc28ec20ef0ad2ff08a23">More...</a><br /></td></tr>
<tr class="separator:a996da1246e7cc28ec20ef0ad2ff08a23 inherit pub_static_methods_class_new_handler_support"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc4d7c6b4a60d7678665f2ddbf19857 inherit pub_static_methods_class_new_handler_support"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_new_handler_support.html#a0cc4d7c6b4a60d7678665f2ddbf19857">operator new</a> (size_t size)</td></tr>
<tr class="memdesc:a0cc4d7c6b4a60d7678665f2ddbf19857 inherit pub_static_methods_class_new_handler_support"><td class="mdescLeft">&#160;</td><td class="mdescRight">The new operator replacing the C++ supplied operator.  <a href="#a0cc4d7c6b4a60d7678665f2ddbf19857">More...</a><br /></td></tr>
<tr class="separator:a0cc4d7c6b4a60d7678665f2ddbf19857 inherit pub_static_methods_class_new_handler_support"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_sound.html">Sound</a> class is responsible of supplying the proper linkage with the PCM sound device. It uses the PortAudio library to get access to the ALSA API of the operating system. Through the configuration file, the user identify the PCM device to connect with. Once connected, the class setup a callback function that will be asynchronously requesting new PCM data from the application.</p>
<p>The class maintains a ~5 seconds replay buffer that could be requested to be played by the user. It contains the last 5 seconds of PCM data generated and transmitted to the PCM device and is used to debug samples libraries or code change in this program.</p>
<p>Getting the connection properly setup with the requested device is a somewhat difficult exercise for the user. The class when started produce the list of compatible devices and show the list to the end user. It is then possible for the user, in the interactive mode, to select the targeted device and produce the data required in the configuration file to properly setup the <a class="el" href="class_sound.html">Sound</a> class. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00025">25</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a539c205cdf06fe2c621fd77c37bcfac9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Sound::Sound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method selects which PCM device to connect to, establish the connection and setup the callback function. </p>

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00049">49</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0907389078bf740be2a5763366ad3376"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Sound::~Sound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00129">129</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad3d3adf4d134a1f070c587631aeb47a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::conti </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restart sound, the new library has been loaded. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00080">80</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="abd9af9165a330cd30b4f4ee490c3065c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::deviceSelect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interactive device selection. </p>

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00171">171</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f224d1b1e3efb3318169e4bf85a5c0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieval of a chunk of PCM data from the replay buffer to send to the PCM device. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00107">107</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad06764f30b88d0f4a9a699b35976c75a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Sound::holding </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sound_8h_source.html#l00074">74</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a399b27434af679d788fa57beb16df12c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Sound::isReplaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the class is currently in a replay mode, false otherwise. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00095">95</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="abeb081295057a4c22017d87d9d166de9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::outOfMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>New operation handler when out of memory occurs. </p>

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00143">143</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4ff12c32c076d473d22909488df8c938"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a>&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Push in the replay buffer the just prepared PCM data. As the replay buffer is managed as a FIFO, it keep only the last 5 seconds of musical data. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00099">99</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a201cd18d171b458f62d5a1c062540735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::showDevices </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>devCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Show available devices to user. </p>

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00150">150</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad7f9998e97dfd97ef1f246b567c77979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::startReplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is called when starting a replay process. The rpos pointer is adjusted to the tail of the FIFO buffer. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00084">84</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="af5d546c95e0e8d14bd540a521ab7a2b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::toggleReplay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turn on and off the replay mechanism. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00089">89</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c4a95e57935c5bf5c976ebf02a2c4ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Sound::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put sound on hold waiting for a new sample library to be loaded from disk. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00077">77</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="aa053cc0f31cc475ef20d9bfd9f3d8803"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int soundCallback </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>framesPerBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PaStreamCallbackTimeInfo *&#160;</td>
          <td class="paramname"><em>timeInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PaStreamCallbackFlags&#160;</td>
          <td class="paramname"><em>statusFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the callback function that will retrieve and process PCM data to be sent back to the PCM ALSA device. This function call the <a class="el" href="class_poly.html#a7d0ef64b393628d3dbfc1447ff1da7f7">Poly::mixer</a> method to get sampling data, then call the reverb and the equalizer filters in sequence to process the data before sending it to the PCM device. The data is also pushed in the FIFO replay buffer.</p>
<p>This routine will be called by the PortAudio engine when audio is needed. It may be called at interrupt level on some machines so don't do anything that could mess up the system like calling memory allocation functions that would disrupt the data structure involved. </p>

<p>Definition at line <a class="el" href="sound_8cpp_source.html#l00014">14</a> of file <a class="el" href="sound_8cpp_source.html">sound.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa5bc55d4c2d3240f784f141d1b0d7fba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Sound::hold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, stop asking form samples as a new library is being loaded. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00034">34</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4612c18959f6777308d1b2ab9d9c1dc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> Sound::rbuff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>FIFO Buffer on the last ~5 seconds PCM data. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00037">37</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9fa28367798b227f00aaf2f34d07f574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> Sound::rend</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Address that follows the end of the rbuff space. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00040">40</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="af292d6a6ab86c80b8ff6426f37f0bf3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Sound::replay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set to true is replaying is required by the user. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00035">35</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5638f21547400a6acd972635942f3c32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> Sound::rhead</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Head Pointer on the replay buffer. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00038">38</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4fc22df5f264663bf978fe7d72cd97a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> Sound::rpos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current replay position. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00041">41</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1847300d024cf5f0539cef13e038be0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_p_iano_8h.html#aa6cfc59f60b165e14c282b2e96db8a17">buffp</a> Sound::rtail</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tail Pointer on the replay buffer. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00039">39</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3db913c8f7aca959592f1f5d281d96fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PaStream* Sound::stream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The connection to the PortAudio stream. </p>

<p>Definition at line <a class="el" href="sound_8h_source.html#l00028">28</a> of file <a class="el" href="sound_8h_source.html">sound.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="sound_8h_source.html">sound.h</a></li>
<li>src/<a class="el" href="sound_8cpp_source.html">sound.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_sound.html">Sound</a></li>
    <li class="footer">Generated on Mon Nov 2 2015 07:32:11 for PIano by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
